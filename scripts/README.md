# è„šæœ¬ç›®å½•

æœ¬ç›®å½•åŒ…å«é¡¹ç›®çš„æ‰€æœ‰ Shell è„šæœ¬ï¼ŒæŒ‰åŠŸèƒ½åˆ†ç±»ç»„ç»‡ã€‚

## ğŸ“ ç›®å½•ç»“æ„

```
scripts/
â”œâ”€â”€ README.md           # æœ¬æ–‡ä»¶ - è„šæœ¬ç´¢å¼•
â”œâ”€â”€ docker/             # Docker ç›¸å…³è„šæœ¬
â”‚   â”œâ”€â”€ start-docker.sh
â”‚   â”œâ”€â”€ stop-docker.sh
â”‚   â””â”€â”€ check-env.sh
â”œâ”€â”€ email/              # é‚®ä»¶ç›¸å…³è„šæœ¬
â”‚   â”œâ”€â”€ configure-email.sh
â”‚   â””â”€â”€ update-smtp-auth-code.sh
â””â”€â”€ ci/                 # CI/CD ç›¸å…³è„šæœ¬
    â”œâ”€â”€ check-ci-status.sh
    â”œâ”€â”€ check-ci.sh
    â”œâ”€â”€ monitor-ci.sh
    â””â”€â”€ check-build-status.sh
```

## ğŸ³ Docker è„šæœ¬

### start-docker.sh
**åŠŸèƒ½**: ä¸€é”®å¯åŠ¨ Docker ç¯å¢ƒ

**ç”¨æ³•**:
```bash
./scripts/docker/start-docker.sh
```

**åŠŸèƒ½è¯´æ˜**:
- âœ… æ£€æŸ¥å¹¶åˆ›å»ºç¯å¢ƒé…ç½®æ–‡ä»¶
- âœ… ç”Ÿæˆ JWT å¯†é’¥
- âœ… æ„å»º Docker é•œåƒ
- âœ… å¯åŠ¨æ‰€æœ‰æœåŠ¡
- âœ… è¿è¡Œæ•°æ®åº“è¿ç§»
- âœ… åˆå§‹åŒ– RBAC æƒé™
- âœ… è®¾ç½®æ–‡ä»¶æƒé™

**ç›¸å…³æ–‡æ¡£**: [Docker å¿«é€Ÿå¯åŠ¨æŒ‡å—](../docs/docker/DOCKER_QUICK_START.md)

---

### stop-docker.sh
**åŠŸèƒ½**: åœæ­¢ Docker æœåŠ¡

**ç”¨æ³•**:
```bash
./scripts/docker/stop-docker.sh
```

**åŠŸèƒ½è¯´æ˜**:
- åœæ­¢æ‰€æœ‰ Docker å®¹å™¨
- å¯é€‰æ‹©æ˜¯å¦åˆ é™¤å®¹å™¨å’Œå·

---

### check-env.sh
**åŠŸèƒ½**: æ£€æŸ¥ç¯å¢ƒé…ç½®

**ç”¨æ³•**:
```bash
./scripts/docker/check-env.sh
```

**åŠŸèƒ½è¯´æ˜**:
- éªŒè¯ `.env.docker` æ–‡ä»¶æ˜¯å¦å­˜åœ¨
- æ£€æŸ¥å¿…éœ€çš„ç¯å¢ƒå˜é‡
- éªŒè¯ JWT å¯†é’¥æ–‡ä»¶
- æ˜¾ç¤ºé…ç½®çŠ¶æ€

---

## ğŸ“§ é‚®ä»¶è„šæœ¬

### configure-email.sh
**åŠŸèƒ½**: é…ç½®é‚®ä»¶æœåŠ¡

**ç”¨æ³•**:
```bash
./scripts/email/configure-email.sh
```

**åŠŸèƒ½è¯´æ˜**:
- äº¤äº’å¼é…ç½®é‚®ä»¶æœåŠ¡å™¨
- è®¾ç½® SMTP å‡­è¯
- æµ‹è¯•é‚®ä»¶è¿æ¥
- æ›´æ–°ç¯å¢ƒå˜é‡

**ç›¸å…³æ–‡æ¡£**: [é‚®ä»¶é…ç½®æŒ‡å—](../docs/email/EMAIL_CONFIG_GUIDE.md)

---

### update-smtp-auth-code.sh
**åŠŸèƒ½**: æ›´æ–° SMTP æˆæƒç 

**ç”¨æ³•**:
```bash
./scripts/email/update-smtp-auth-code.sh [æ–°æˆæƒç ]
```

**åŠŸèƒ½è¯´æ˜**:
- æ›´æ–° `.env.docker` ä¸­çš„ SMTP æˆæƒç 
- é‡å¯ç›¸å…³æœåŠ¡
- éªŒè¯æ–°é…ç½®

**ç›¸å…³æ–‡æ¡£**: [è·å– SMTP æˆæƒç ](../docs/email/GET_SMTP_AUTH_CODE.md)

---

## ğŸ”§ CI/CD è„šæœ¬

### check-ci-status.sh
**åŠŸèƒ½**: æ£€æŸ¥ CI çŠ¶æ€

**ç”¨æ³•**:
```bash
./scripts/ci/check-ci-status.sh
```

**åŠŸèƒ½è¯´æ˜**:
- æ£€æŸ¥ CI ç®¡é“çŠ¶æ€
- æ˜¾ç¤ºæœ€æ–°æ„å»ºç»“æœ
- æŠ¥å‘Šæµ‹è¯•è¦†ç›–ç‡

---

### check-ci.sh
**åŠŸèƒ½**: è¿è¡Œ CI æ£€æŸ¥

**ç”¨æ³•**:
```bash
./scripts/ci/check-ci.sh
```

**åŠŸèƒ½è¯´æ˜**:
- è¿è¡Œä»£ç è´¨é‡æ£€æŸ¥
- æ‰§è¡Œå•å…ƒæµ‹è¯•
- ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š

---

### monitor-ci.sh
**åŠŸèƒ½**: ç›‘æ§ CI å¾ªç¯

**ç”¨æ³•**:
```bash
./scripts/ci/monitor-ci.sh
```

**åŠŸèƒ½è¯´æ˜**:
- æŒç»­ç›‘æ§ CI çŠ¶æ€
- è‡ªåŠ¨é‡è¯•å¤±è´¥çš„æ„å»º
- å‘é€é€šçŸ¥

**ç›¸å…³æ–‡æ¡£**: [CI å¾ªç¯çŠ¶æ€](../docs/CI-LOOP-STATUS.md)

---

### check-build-status.sh
**åŠŸèƒ½**: æ£€æŸ¥ GitHub Actions æ„å»ºçŠ¶æ€

**ç”¨æ³•**:
```bash
./scripts/ci/check-build-status.sh
```

**åŠŸèƒ½è¯´æ˜**:
- æ˜¾ç¤ºæœ€æ–°æäº¤ä¿¡æ¯
- æ£€æŸ¥æœ¬åœ°ä¸è¿œç¨‹åŒæ­¥çŠ¶æ€
- æä¾› GitHub Actions ç›‘æ§é“¾æ¥
- æ˜¾ç¤ºç›¸å…³æ–‡æ¡£è·¯å¾„

**ç›¸å…³æ–‡æ¡£**: 
- [CI æ„å»ºçŠ¶æ€](../CI_BUILD_STATUS.md)
- [CI ç›‘æ§æŒ‡å—](../docs/docker/CI_MONITORING_GUIDE.md)

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### é¦–æ¬¡ä½¿ç”¨

1. **å¯åŠ¨ Docker ç¯å¢ƒ**
```bash
./scripts/docker/start-docker.sh
```

2. **é…ç½®é‚®ä»¶æœåŠ¡**ï¼ˆå¯é€‰ï¼‰
```bash
./scripts/email/configure-email.sh
```

3. **æ£€æŸ¥ç¯å¢ƒé…ç½®**
```bash
./scripts/docker/check-env.sh
```

### æ—¥å¸¸ä½¿ç”¨

**å¯åŠ¨æœåŠ¡**:
```bash
./scripts/docker/start-docker.sh
```

**åœæ­¢æœåŠ¡**:
```bash
./scripts/docker/stop-docker.sh
```

**æ›´æ–°é‚®ä»¶é…ç½®**:
```bash
./scripts/email/update-smtp-auth-code.sh YOUR_NEW_AUTH_CODE
```

**æ£€æŸ¥ CI çŠ¶æ€**:
```bash
./scripts/ci/check-ci-status.sh
```

## ğŸ“ è„šæœ¬å¼€å‘è§„èŒƒ

### æ–‡ä»¶å‘½å
- ä½¿ç”¨å°å†™å­—æ¯å’Œè¿å­—ç¬¦
- ä½¿ç”¨ `.sh` æ‰©å±•å
- åç§°åº”æ¸…æ™°æè¿°åŠŸèƒ½

### è„šæœ¬ç»“æ„
```bash
#!/bin/bash

# è„šæœ¬è¯´æ˜
# åŠŸèƒ½: æè¿°è„šæœ¬åŠŸèƒ½
# ç”¨æ³•: ./script-name.sh [å‚æ•°]

set -e  # é‡åˆ°é”™è¯¯ç«‹å³é€€å‡º

# é¢œè‰²å®šä¹‰
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

# å‡½æ•°å®šä¹‰
function print_success() {
    echo -e "${GREEN}âœ“ $1${NC}"
}

function print_error() {
    echo -e "${RED}âœ— $1${NC}"
}

function print_info() {
    echo -e "${YELLOW}â„¹ $1${NC}"
}

# ä¸»é€»è¾‘
main() {
    print_info "å¼€å§‹æ‰§è¡Œ..."
    # è„šæœ¬é€»è¾‘
    print_success "æ‰§è¡Œå®Œæˆ"
}

# æ‰§è¡Œä¸»å‡½æ•°
main "$@"
```

### æœ€ä½³å®è·µ

1. **é”™è¯¯å¤„ç†**
   - ä½¿ç”¨ `set -e` åœ¨é”™è¯¯æ—¶é€€å‡º
   - æä¾›æ¸…æ™°çš„é”™è¯¯æ¶ˆæ¯
   - ä½¿ç”¨é€€å‡ºç è¡¨ç¤ºçŠ¶æ€

2. **ç”¨æˆ·äº¤äº’**
   - æä¾›æ¸…æ™°çš„æç¤ºä¿¡æ¯
   - ä½¿ç”¨é¢œè‰²åŒºåˆ†ä¸åŒç±»å‹çš„æ¶ˆæ¯
   - åœ¨å±é™©æ“ä½œå‰è¯·æ±‚ç¡®è®¤

3. **æ–‡æ¡£**
   - åœ¨è„šæœ¬å¼€å¤´æ·»åŠ è¯´æ˜æ³¨é‡Š
   - æä¾›ä½¿ç”¨ç¤ºä¾‹
   - è¯´æ˜æ‰€éœ€çš„ç¯å¢ƒå˜é‡

4. **å¯ç§»æ¤æ€§**
   - ä½¿ç”¨ `#!/bin/bash` è€Œé `#!/bin/sh`
   - é¿å…ä½¿ç”¨ç‰¹å®šå¹³å°çš„å‘½ä»¤
   - æ£€æŸ¥ä¾èµ–æ˜¯å¦å­˜åœ¨

## ğŸ”— ç›¸å…³èµ„æº

### æ–‡æ¡£
- [é¡¹ç›® README](../README.md)
- [Docker æ–‡æ¡£](../docs/docker/)
- [é‚®ä»¶æ–‡æ¡£](../docs/email/)
- [CI/CD æ–‡æ¡£](../docs/CI-LOOP-STATUS.md)

### å·¥å…·
- [Makefile](../Makefile) - æ„å»ºå’Œç®¡ç†å‘½ä»¤
- [docker-compose.yml](../docker-compose.yml) - Docker é…ç½®

## ğŸ¤ è´¡çŒ®

æ·»åŠ æ–°è„šæœ¬æ—¶ï¼š

1. å°†è„šæœ¬æ”¾åœ¨é€‚å½“çš„å­ç›®å½•
2. æ·»åŠ æ‰§è¡Œæƒé™ï¼š`chmod +x script-name.sh`
3. æ›´æ–°æœ¬ README æ–‡æ¡£
4. åœ¨æ ¹ README ä¸­æ·»åŠ é“¾æ¥ï¼ˆå¦‚æœæ˜¯å¸¸ç”¨è„šæœ¬ï¼‰
5. æä¾›ä½¿ç”¨ç¤ºä¾‹å’Œæ–‡æ¡£

## ğŸ“ é—®é¢˜åé¦ˆ

å¦‚æœè„šæœ¬æ‰§è¡Œé‡åˆ°é—®é¢˜ï¼š

1. æ£€æŸ¥è„šæœ¬çš„æ‰§è¡Œæƒé™
2. æŸ¥çœ‹ç›¸å…³æ–‡æ¡£
3. æ£€æŸ¥ç¯å¢ƒå˜é‡é…ç½®
4. æäº¤ Issue æˆ–è”ç³»å¼€å‘å›¢é˜Ÿ

---

**æœ€åæ›´æ–°**: 2026-01-21  
**ç»´æŠ¤è€…**: å¼€å‘å›¢é˜Ÿ
